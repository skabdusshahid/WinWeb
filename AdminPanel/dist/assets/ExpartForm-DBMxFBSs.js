import{r,j as e}from"./react-D74B1hbq.js";import{a as c}from"./axios-BimPEqV4.js";import{H as k}from"./Http-BBBGMgZJ.js";import"./classnames-H1cwLBKI.js";const f=()=>{const[n,d]=r.useState({name:"",designation:"",phone:"",email:"",fb_link:"",linkedin_link:"",x_link:"",other_link:""}),[o,p]=r.useState(null),[x,s]=r.useState(""),a=t=>{const{name:i,value:l}=t.target;d({...n,[i]:l})},h=t=>{p(t.target.files[0])},m=async t=>{if(t.preventDefault(),!n.name||!n.designation||!n.phone||!n.email){s("Please fill in all required fields");return}const i=new FormData;i.append("name",n.name),i.append("designation",n.designation),i.append("phone",n.phone),i.append("email",n.email),i.append("fb_link",n.fb_link),i.append("linkedin_link",n.linkedin_link),i.append("x_link",n.x_link),i.append("other_link",n.other_link),o&&i.append("image",o);try{const l=await c.post(`${k}/experts`,i,{headers:{"Content-Type":"multipart/form-data"}});alert("Expert added successfully!"),d({name:"",designation:"",phone:"",email:"",fb_link:"",linkedin_link:"",x_link:"",other_link:""}),p(null),s("")}catch(l){console.error("Error adding expert:",l),s("Failed to add expert. Please try again.")}};return e.jsxs("div",{children:[e.jsx("h1",{children:"Add Expert"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",name:"name",value:n.name,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Designation"}),e.jsx("input",{type:"text",name:"designation",value:n.designation,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Phone"}),e.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Facebook Link"}),e.jsx("input",{type:"text",name:"fb_link",value:n.fb_link,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"LinkedIn Link"}),e.jsx("input",{type:"text",name:"linkedin_link",value:n.linkedin_link,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"X (formerly Twitter) Link"}),e.jsx("input",{type:"text",name:"x_link",value:n.x_link,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Other Link"}),e.jsx("input",{type:"text",name:"other_link",value:n.other_link,onChange:a})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:h})]}),x&&e.jsx("p",{style:{color:"red"},children:x}),e.jsx("button",{type:"submit",children:"Add Expert"})]})]})};export{f as default};
