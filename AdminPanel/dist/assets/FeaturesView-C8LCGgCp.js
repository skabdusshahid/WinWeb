import{r as l,j as e}from"./react-D74B1hbq.js";import{H as x}from"./Http-BBBGMgZJ.js";import"./classnames-H1cwLBKI.js";const b=()=>{const[r,d]=l.useState([]),[j,n]=l.useState(null),[s,o]=l.useState({title:"",subTitle:"",cardTitle1:"",cardDesc1:"",cardTitle2:"",cardDesc2:"",cardTitle3:"",cardDesc3:"",email:""});l.useEffect(()=>{(async()=>{try{const a=await fetch(`${x}/features`);if(a.ok){const i=await a.json();d(i)}else console.error("Failed to fetch features")}catch(a){console.error("Error fetching features:",a)}})()},[]);const p=t=>{n(t._id),o({title:t.title,subTitle:t.subTitle,cardTitle1:t.cardTitle1,cardDesc1:t.cardDesc1,cardTitle2:t.cardTitle2,cardDesc2:t.cardDesc2,cardTitle3:t.cardTitle3,cardDesc3:t.cardDesc3,email:t.email})},c=t=>{const{name:a,value:i}=t.target;o({...s,[a]:i})},u=async t=>{try{const a=await fetch(`${x}/features/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok){const i=await a.json();d(r.map(h=>h._id===t?i:h)),n(null)}else console.error("Failed to update feature")}catch(a){console.error("Error updating feature:",a)}};return e.jsxs("div",{className:"features-view-container",children:[e.jsx("h2",{children:"Features"}),e.jsx("div",{className:"features-grid",children:r.length>0?r.map(t=>e.jsx("div",{className:"feature-card",children:j===t._id?e.jsxs("div",{className:"edit-form",children:[e.jsx("h3",{children:"Edit Feature"}),e.jsxs("label",{children:["Title:",e.jsx("input",{type:"text",name:"title",value:s.title,onChange:c})]}),e.jsxs("label",{children:["Subtitle:",e.jsx("input",{type:"text",name:"subTitle",value:s.subTitle,onChange:c})]}),e.jsxs("label",{children:["Card Title 1:",e.jsx("input",{type:"text",name:"cardTitle1",value:s.cardTitle1,onChange:c})]}),e.jsxs("label",{children:["Card Description 1:",e.jsx("input",{type:"text",name:"cardDesc1",value:s.cardDesc1,onChange:c})]}),e.jsxs("label",{children:["Card Title 2:",e.jsx("input",{type:"text",name:"cardTitle2",value:s.cardTitle2,onChange:c})]}),e.jsxs("label",{children:["Card Description 2:",e.jsx("input",{type:"text",name:"cardDesc2",value:s.cardDesc2,onChange:c})]}),e.jsxs("label",{children:["Card Title 3:",e.jsx("input",{type:"text",name:"cardTitle3",value:s.cardTitle3,onChange:c})]}),e.jsxs("label",{children:["Card Description 3:",e.jsx("input",{type:"text",name:"cardDesc3",value:s.cardDesc3,onChange:c})]}),e.jsxs("label",{children:["Email:",e.jsx("input",{type:"email",name:"email",value:s.email,onChange:c})]}),e.jsx("button",{onClick:()=>u(t._id),children:"Save"}),e.jsx("button",{onClick:()=>n(null),children:"Cancel"})]}):e.jsxs("div",{children:[e.jsx("h3",{className:"feature-title",children:t.title}),e.jsx("h4",{className:"feature-subtitle",children:t.subTitle}),e.jsxs("div",{className:"feature-card-content",children:[e.jsxs("div",{className:"card-item",children:[e.jsx("h5",{children:t.cardTitle1}),e.jsx("p",{children:t.cardDesc1})]}),e.jsxs("div",{className:"card-item",children:[e.jsx("h5",{children:t.cardTitle2}),e.jsx("p",{children:t.cardDesc2})]}),e.jsxs("div",{className:"card-item",children:[e.jsx("h5",{children:t.cardTitle3}),e.jsx("p",{children:t.cardDesc3})]})]}),e.jsx("h6",{children:t.email}),e.jsx("button",{onClick:()=>p(t),children:"Edit"})]})},t._id)):e.jsx("p",{children:"No features available."})})]})};export{b as default};
