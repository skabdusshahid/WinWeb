import{r as i,j as e}from"./react-D74B1hbq.js";import{a as E}from"./axios-BimPEqV4.js";import{H as P}from"./Http-BBBGMgZJ.js";import"./classnames-H1cwLBKI.js";const U=()=>{const[d,u]=i.useState(""),[p,h]=i.useState(""),[x,m]=i.useState(""),[a,g]=i.useState(""),[l,o]=i.useState([]),[j,v]=i.useState(null),[r,b]=i.useState(null),[f,c]=i.useState([]),[y,T]=i.useState(""),C=t=>{const s=t.target.files[0];s&&(v(s),b(URL.createObjectURL(s)))},S=()=>{a.trim()&&(o(t=>[...t,a.trim()]),g(""))},F=t=>{t.key==="Enter"&&(t.preventDefault(),S())},I=t=>{o(s=>s.filter((n,D)=>D!==t))},w=async t=>{t.preventDefault();const s=new FormData;s.append("title",d),s.append("subtitle",p),s.append("description",x),s.append("tags",JSON.stringify(l)),j&&s.append("image",j);try{const n=await E.post(`${P}/about`,s,{headers:{"Content-Type":"multipart/form-data"}});T("About document created successfully"),c([]),u(""),h(""),m(""),o([]),v(null),b(null)}catch(n){n.response&&n.response.data.errors?c(n.response.data.errors):c([{msg:"An unexpected error occurred"}])}};return i.useEffect(()=>()=>{r&&URL.revokeObjectURL(r)},[r]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxs("form",{onSubmit:w,style:{width:"80%",maxWidth:"600px"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",children:"Title:"}),e.jsx("input",{type:"text",id:"title",value:d,onChange:t=>u(t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subtitle",children:"Subtitle:"}),e.jsx("input",{type:"text",id:"subtitle",value:p,onChange:t=>h(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",children:"Description:"}),e.jsx("input",{type:"text",id:"description",value:x,onChange:t=>m(t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tags",children:"Tags:"}),e.jsx("input",{type:"text",id:"tags",value:a,onChange:t=>g(t.target.value),onKeyPress:F,placeholder:"Press Enter to add tags"}),e.jsx("button",{type:"button",onClick:S,children:"Add Tag"}),e.jsx("div",{children:l.length>0&&e.jsx("ul",{children:l.map((t,s)=>e.jsxs("li",{children:[t," ",e.jsx("button",{type:"button",onClick:()=>I(s),children:"Remove"})]},s))})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image",children:"Image (optional):"}),e.jsx("input",{type:"file",id:"image",onChange:C})]}),e.jsx("button",{type:"submit",children:"Submit"})]}),r&&e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("h2",{children:"Image Preview:"}),e.jsx("img",{src:r,alt:"Image Preview",style:{maxWidth:"300px",maxHeight:"300px"}})]}),f.length>0&&e.jsxs("div",{style:{marginTop:"20px"},children:[e.jsx("h2",{children:"Errors:"}),e.jsx("ul",{children:f.map((t,s)=>e.jsx("li",{children:t.msg},s))})]}),y&&e.jsx("div",{style:{marginTop:"20px"},children:e.jsx("h2",{children:y})})]})};export{U as default};
