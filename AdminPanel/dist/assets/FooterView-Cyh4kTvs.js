import{r as o,j as e}from"./react-D74B1hbq.js";import{a as g}from"./axios-BimPEqV4.js";import{H as j}from"./Http-BBBGMgZJ.js";import"./classnames-H1cwLBKI.js";const E=()=>{const[l,m]=o.useState([]),[u,h]=o.useState(""),[p,i]=o.useState(null),[t,c]=o.useState({InfoMsg:"",email:"",phoneNo:"",Tag:"",TagDesc:"",ButtonText:""});o.useEffect(()=>{(async()=>{try{const a=await g.get(`${j}/footer`);m(a.data.data)}catch(a){h("Error fetching footers: "+a.response.data.message)}})()},[]);const N=s=>{i(s),c({InfoMsg:s.InfoMsg,email:s.email,phoneNo:s.phoneNo,Tag:s.Tag,TagDesc:s.TagDesc,ButtonText:s.ButtonText})},n=s=>{const{name:a,value:r}=s.target;c({...t,[a]:r})},T=async s=>{s.preventDefault();try{const r=(await g.put(`${j}/footer/${p._id}`,t)).data.data;m(l.map(x=>x._id===r._id?r:x)),i(null),c({InfoMsg:"",email:"",phoneNo:"",Tag:"",TagDesc:"",ButtonText:""})}catch(a){h("Error updating footer: "+a.response.data.message)}},d=()=>{i(null)};return e.jsxs("div",{className:"footer-view-container",children:[e.jsx("h1",{children:"Footer List"}),u&&e.jsx("p",{className:"error-message",children:u}),l.length===0?e.jsx("p",{children:"No footers available."}):e.jsx("ul",{className:"footer-list",children:l.map(s=>e.jsxs("li",{className:"footer-item",children:[e.jsx("h2",{children:s.InfoMsg}),e.jsxs("p",{children:["Email: ",s.email]}),e.jsxs("p",{children:["Phone Number: ",s.phoneNo]}),e.jsxs("p",{children:["Tag: ",s.Tag]}),e.jsxs("p",{children:["Tag Description: ",s.TagDesc]}),e.jsxs("p",{children:["Button Text: ",s.ButtonText]}),e.jsx("button",{className:"edit-button",onClick:()=>N(s),children:"Edit"})]},s._id))}),p&&e.jsx("div",{className:"modal-overlay",onClick:d,children:e.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:d,children:"Ã—"}),e.jsx("h2",{children:"Edit Footer"}),e.jsxs("form",{onSubmit:T,className:"edit-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Info Message:"}),e.jsx("input",{type:"text",name:"InfoMsg",value:t.InfoMsg,onChange:n,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email:"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:n,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number:"}),e.jsx("input",{type:"text",name:"phoneNo",value:t.phoneNo,onChange:n,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tag:"}),e.jsx("input",{type:"text",name:"Tag",value:t.Tag,onChange:n})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tag Description:"}),e.jsx("input",{type:"text",name:"TagDesc",value:t.TagDesc,onChange:n})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Button Text:"}),e.jsx("input",{type:"text",name:"ButtonText",value:t.ButtonText,onChange:n})]}),e.jsx("button",{type:"submit",className:"save-button",children:"Save Changes"}),e.jsx("button",{type:"button",className:"cancel-button",onClick:d,children:"Cancel"})]})]})})]})};export{E as default};
